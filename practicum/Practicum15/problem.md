# Бонус задача за практикум (5 точки)

Не се допуска използването на `std::string` и `std::vector`

## ЗАДАЧА

 А) Да се дефинира клас двойка `SimplePair`, който съдържа две полета `ключ` и `стойност`, които са низове в динамичната памет с произволна дължина. Ключът започва задължително с малки латински букви и задължително съдържа само малки латински букви и знака '_'. При опит за инициализация на обект с некоректни данни, програмата да извежда подходящо текстово съобщение за грешка.

Б) Да се дефинира клас за двойка `InterpolationPair`, който съдържа всички характеристики на класа `SimplePair`. За класа има следното допълнително ограничение - в стойността трябва да се среща поне един подниз, означаващ параметър, със следния синтаксис: `%{<име_на_параметър>}`, където `<име_на_параметър>` е последователност от малки латински букви. Не е позволено параметър да се среща повече от веднъж в дадена стойност. При опит за инициализация на обект с некоректни данни, програмата да извежда подходящо текстово съобщение за грешка.

**Пример:** следният низ е валидна стойност за двойка от тип `InterpolationPair`: "My name is %{username}"

 В) Да се дефинира метод `printValue` за класа `InterpolationPair`, който изисква от потребителя да въведе низ, съответстващ на всеки един от параметрите в стойността на двойката, като извежда последователно имената на съответните параметри на екрана и изчаква потребителския вход. Всеки от въведените от потребителя низове трябва да е до 100 символа. Ако потребителят въведе по-дълъг низ, останалите символи трябва да се отрязват. Методът да замества (интерполира) параметрите с въведеното съдържание и да извежда новия низ, без да променя оригиналната стойност.

**Пример:** за стойност за двойка от тип `InterpolationPair`: "My name is %{username}" програмата трябва да изиска от потребителя да въведе низ за `username`. Ако потребителят въведе, например, Georgi, се извежда "My name is Georgi".

Г) Да се дефинира клас за двойка `TagPair`, който съдържа всички характеристики на класа `SimplePair`. За класа има следните допълнителни ограничения - стойността трябва задължително да започва и завършва с двойни кавички, ключът трябва задължително да завършва със символите `_html`. При опит за инициализация на обект с некоректни данни, програмата да извежда подходящо текстово съобщение за грешка.

**Пример:** валидна двойка от типа `TagPair`: ключ - `greeting_html` и стойност - `"How are <b>you?</b> <br/> <hr/>"`

 Д) Да се дефинира метод `printValue` за класа `TagPair`, който разпознава следните три тага в стойността на двойката `<br/>`, `<b>`, и `<hr/>`. Методът да извършва следните замествания на тези тагове като извежда новата стойност, без да изменя оригиналната двойка:

- Всяко срещане на таг `<br/>` се заменя с нов ред;
- Малките латински букви между отварящия таг `<b>` и затварящия таг `</b>` се заменят със съответните им главни латински букви, таговете се премахват, а останалите символи, ако има такива, не се променят;
- Всеки таг `<hr/>` се заменя с последователност от 20 знака '-', които се изписват на нов ред.

**Пример:** за стойност за двойка от тип `TagPair`: `"How are <b>you?</b> <br/> <hr/>"` се извежда: How are YOU?


Е) Да се дефинира клас за двойка `ComplexPair`, който съдържа всички характеристики на класовете `SimplePair`, `InterpolationPair`, и `TagPair`. Да се дефинира метод `printValue`, който първо прилага интерполация в низа на стойността (след въвеждане на стойности за параметрите), след това заменя всички тагове и накрая извежда получения резултат.

Ж) Да се реализира клас `KNYAML`, който реализира модифициран YAML формат. Обект от този клас съдържа в себе си множество от двойки от четирите типа описани по-горе (позволено е използване на стандартните класове от `std`). При опит за инициализация на обект с множество от двойки, в което има два еднакви ключа, програмата да извежда подходящо текстово съобщение за грешка. Обект от клас `KNYAML` може да се копира, като при извършване на копие той и новият обект имат еднакви двойки – ключ-стойност, но не поделят памет помежду си.

З) Да се предефинира оператор `[]` за `KNYAML`, който по подаден ключ извежда на стандартния изход стойността на дадената двойка без възможност за нейната промяна. Не е нужно операторът да връща стойност.

**Пример:** Ако обект `knyaml` от клас `KNYAML` съдържа горният примерен обект от клас `TagPair`, операторът `knyaml["greeting_html"]` би трябвало да изведе на стандартния изход текста от предишния пример.